<?xml version="1.0" encoding="UTF-8"?>
<plugin
   id="org.eclipse.ant.ui"
   name="%pluginName"
   version="2.1.0"
   provider-name="%providerName"
   class="org.eclipse.ant.ui.internal.model.AntUIPlugin">

	<runtime>
      <library name="antui.jar">
         <export name="*"/>
         <packages prefixes="org.eclipse.ant.ui"/>
      </library>
   </runtime>
   
   <requires>
   	  <import plugin="org.apache.ant"/>
      <import plugin="org.apache.xerces"/>
      <import plugin="org.eclipse.ant.core"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.ui.externaltools"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.debug.core"/>
      <import plugin="org.eclipse.debug.ui"/>
      <import plugin="org.eclipse.jdt.debug.ui"/>
      <import plugin="org.eclipse.jdt.launching"/>  
   </requires>
   
   <extension point="org.eclipse.ui.editors">
      <editor
            name="%AntEditor.name"
            icon="icons/full/obj16/ant_buildfile.gif"
            filenames="build.xml"
            contributorClass="org.eclipse.ant.ui.internal.editor.AntEditorActionContributor"
            class="org.eclipse.ant.ui.internal.editor.AntEditor"
            id="org.eclipse.ant.ui.internal.editor.AntEditor">
      </editor>
   </extension>
   
    <extension point = "org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="org.eclipse.ant.ui.launchConfigurationTabGroup.ant"
			type ="org.eclipse.ant.AntLaunchConfigurationType"
			helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.ant"
			class="org.eclipse.ant.ui.internal.launchConfigurations.AntTabGroup">
		</launchConfigurationTabGroup>
	</extension>
	
	<extension point="org.eclipse.debug.core.launchConfigurationTypes">
	    <launchConfigurationType
	    	id = "org.eclipse.ant.AntLaunchConfigurationType"
    		name = "%AntBuild.externalTools"
    		delegate = "org.eclipse.ant.ui.internal.launchConfigurations.AntLaunchDelegate"
	    	modes = "run"
    		category = "org.eclipse.ui.externaltools">
    	</launchConfigurationType>
	 </extension>
	 
	 <extension point="org.eclipse.jdt.launching.classpathProviders">
		 <classpathProvider
			id = "org.eclipse.ant.ui.AntClasspathProvider"
			class ="org.eclipse.ant.ui.internal.launchConfigurations.AntClasspathProvider">
		 </classpathProvider>
	</extension>
	
	<extension point="org.eclipse.ui.views">
		<category 
			id="org.eclipse.ui.externaltools.ant.views"
			name="%CategoryView.antViews">
		</category>
      <view
            id="org.eclipse.ui.externaltools.AntView"
            name="%View.antView"
            icon="icons/full/cview16/ant_view.gif"
            category="org.eclipse.ui.externaltools.ant.views"
            fastViewWidthRatio="0.40"
            class="org.eclipse.ui.externaltools.internal.ant.view.AntView">
      </view>
	</extension>
	
	<extension point="org.eclipse.ui.perspectiveExtensions">
		<perspectiveExtension 
    		targetID="org.eclipse.ui.resourcePerspective">
    		<view id="org.eclipse.ui.externaltools.AntView" 
       		 	relative="org.eclipse.ui.views.ContentOutline" 
    			relationship="stack"
    			visible="false"/> 
    		<viewShortcut id="org.eclipse.ui.externaltools.AntView"/>
	    </perspectiveExtension>
    	<perspectiveExtension 
    		targetID="org.eclipse.jdt.ui.JavaBrowsingPerspective">
    		<view id="org.eclipse.ui.externaltools.AntView" 
       		 	relative="org.eclipse.ui.views.ContentOutline" 
    			relationship="stack"
    			visible="false"/> 
    		<viewShortcut id="org.eclipse.ui.externaltools.AntView"/>
	    </perspectiveExtension>
    	<perspectiveExtension 
    		targetID="org.eclipse.jdt.ui.JavaPerspective">
	    	<view id="org.eclipse.ui.externaltools.AntView" 
	        	relative="org.eclipse.ui.views.ContentOutline" 
	    		relationship="stack"
	    		visible="false"/> 
	    	<viewShortcut id="org.eclipse.ui.externaltools.AntView"/>
	    </perspectiveExtension>
	    <perspectiveExtension 
	    	targetID="org.eclipse.jdt.ui.JavaHierarchyPerspective">
	    	<view id="org.eclipse.ui.externaltools.AntView" 
	        	relative="org.eclipse.ui.views.ContentOutline" 
	    		relationship="stack"
	    		visible="false"/> 
	    	<viewShortcut id="org.eclipse.ui.externaltools.AntView"/>
	    </perspectiveExtension>
	    <perspectiveExtension 
	    	targetID="org.eclipse.debug.ui.DebugPerspective">
	    	<view id="org.eclipse.ui.externaltools.AntView" 
	        	relative="org.eclipse.ui.views.ContentOutline" 
	    		relationship="stack"
	    		visible="false"/> 
	    	<viewShortcut id="org.eclipse.ui.externaltools.AntView"/>
	    </perspectiveExtension>
	</extension>
	
	<extension point="org.eclipse.ui.preferencePages">
		<page 
			id="org.eclipse.ui.externaltools.AntPreferencePage" 
			name="%PreferencePage.antPreferences"
			class="org.eclipse.ui.externaltools.internal.ant.preferences.AntPreferencePage">
		</page>
		<page 
			id="org.eclipse.ui.externaltools.AntRuntimePreferencePage" 
			name="%PreferencePage.antRuntimePreferences"
			class="org.eclipse.ui.externaltools.internal.ant.preferences.AntRuntimePreferencePage"
			category="org.eclipse.ui.externaltools.AntPreferencePage">
		</page>
		<page
			id="org.eclipse.ui.externaltools.AntEditorPreferencePage"
			name="%PreferencePage.antEditorPreferences"
			class="org.eclipse.ui.externaltools.internal.ant.preferences.AntEditorPreferencePage"
			category="org.eclipse.ui.externaltools.AntPreferencePage">
		</page>
	</extension>
	
	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			id="org.eclipse.ui.externaltools.RunAnt"
			objectClass="org.eclipse.core.resources.IFile"
			adaptable="true"
			nameFilter="*.xml">
			<action
				id="org.eclipse.ui.externaltools.RunAntAction"
				label="%PopupMenu.runAnt"
				tooltip="%PopupMenu.runAntTip"
				menubarPath="additions"
				enablesFor="1"
				class="org.eclipse.ant.ui.internal.launchConfigurations.AntRunActionDelegate">
			</action>
		</objectContribution>			
	</extension>
	
	<extension point="org.eclipse.ui.popupMenus">
		<viewerContribution
			targetID="org.eclipse.ui.externaltools.internal.ant.editor.AntEditor.RulerContext"
            id="org.eclipse.ui.externaltools.internal.ant.editor.AntEditor.RulerContext">
			<action
				label="%AddTask.label"
				helpContextId="org.eclipse.ui.AddTask_action_context"
				tooltip="%AddTask.tooltip"
				class="org.eclipse.ui.texteditor.TaskRulerAction"
				menubarPath="additions"
				id="org.eclipse.ui.texteditor.TaskRulerAction">
			</action>
			<action
				label="%AddBookmark.label"
				helpContextId="org.eclipse.ui.bookmark_action_context"
				tooltip="%AddBookmark.tooltip"
				class="org.eclipse.ui.texteditor.BookmarkRulerAction"
				menubarPath="additions"
				id="org.eclipse.ui.texteditor.BookmarkRulerAction">
			</action>
		</viewerContribution>
	</extension>
	
	<extension point="org.eclipse.ant.core.extraClasspathEntries">
     	<extraClasspathEntry
         	library="lib/antrunner.jar">
      	</extraClasspathEntry>
    </extension>
	
	<extension point="org.eclipse.debug.ui.consoleColorProviders">
		<consoleContentProvider 
			id="org.eclipse.ant.consoleColorProvider" 
			class="org.eclipse.ant.ui.internal.launchConfigurations.AntConsoleColorProvider"
			processType="org.eclipse.ui.externaltools.ant">
		</consoleContentProvider>
	</extension>
	
	<extension point="org.eclipse.debug.core.launchConfigurationTypes">
    	<launchConfigurationType
    		id = "org.eclipse.ant.AntBuilderLaunchConfigurationType"
    		name = "%AntBuild.externalTools"
    		delegate = "org.eclipse.ui.externaltools.internal.ant.launchConfigurations.AntLaunchDelegate"
    		modes = "run"
    		category = "org.eclipse.ui.externaltools.builder">
    	</launchConfigurationType>
    </extension>
    
    <extension point = "org.eclipse.ui.externaltools.configurationDuplicationMaps">
    	<configurationMap
    		sourceType="org.eclipse.ant.AntLaunchConfigurationType"
    		builderType="org.eclipse.ant.AntBuilderLaunchConfigurationType">
    	</configurationMap>
    </extension>
    
    <extension point = "org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="org.eclipse.ui.externaltools.launchConfigurationTabGroup.program"
			type ="org.eclipse.ui.externaltools.ProgramLaunchConfigurationType"
			helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.program"
			class="org.eclipse.ui.externaltools.internal.program.launchConfigurations.ProgramTabGroup">
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.eclipse.ui.externaltools.launchConfigurationTabGroup.ant"
			type ="org.eclipse.ant.AntLaunchConfigurationType"
			helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.ant"
			class="org.eclipse.ui.externaltools.internal.ant.launchConfigurations.AntTabGroup">
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.eclipse.ui.externaltools.launchConfigurationTabGroup.program.builder"
			type ="org.eclipse.ui.externaltools.ProgramBuilderLaunchConfigurationType"
			helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.program_builder"
			class="org.eclipse.ui.externaltools.internal.program.launchConfigurations.ProgramBuilderTabGroup">
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.eclipse.ui.externaltools.launchConfigurationTabGroup.ant.builder"
			type ="org.eclipse.ant.AntBuilderLaunchConfigurationType"
			helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.ant_builder"
			class="org.eclipse.ui.externaltools.internal.ant.launchConfigurations.AntBuilderTabGroup">
		</launchConfigurationTabGroup>
	</extension>
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
		<launchConfigurationTypeImage
			id="org.eclipse.ant.launchConfigurationTypeImage.ant"
			configTypeID="org.eclipse.ant.AntLaunchConfigurationType"
			icon="icons/full/obj16/ant.gif">
		</launchConfigurationTypeImage>
		<launchConfigurationTypeImage
			id="org.eclipse.ant.launchConfigurationTypeImage.ant.builder"
			configTypeID="org.eclipse.ant.AntBuilderLaunchConfigurationType"
			icon="icons/full/obj16/ant.gif">
		</launchConfigurationTypeImage>	
	</extension>
	
	<extension point = "org.eclipse.debug.ui.launchShortcuts">
		<shortcut
			id="org.eclipse.ant.ui.antShortcut"
			helpContextId="org.eclipse.ui.externaltools.launchShortcutHelpContext.antShortcut"
			class="org.eclipse.ant.ui.internal.launchConfigurations.AntLaunchShortcut"
			label="%AntLaunchShortcut.label"
			icon="icons/full/obj16/ant.gif"
			modes="run"
			category ="org.eclipse.ui.externaltools">
		</shortcut>
	</extension>
	
	<!-- Console Extensions -->
	<extension point = "org.eclipse.debug.ui.consoleLineTrackers">
		<consoleLineTracker
			id = "org.eclipse.ui.externaltools.ant.javacLineTracker"
			class = "org.eclipse.ui.externaltools.internal.ant.launchConfigurations.JavacLineTracker"
			processType = "org.eclipse.ui.externaltools.ant">
		</consoleLineTracker>
		<consoleLineTracker
			id = "org.eclipse.ui.externaltools.ant.taskLineTracker"
			class = "org.eclipse.ant.ui.internal.console.TaskLineTracker"
			processType = "org.eclipse.ui.externaltools.ant">
		</consoleLineTracker>		
	</extension>
	
	<extension point = "org.eclipse.debug.core.statusHandlers">
		<statusHandler
			id="org.eclipse.ui.externaltools.statusHandler.runAntInit"
			class="org.eclipse.ui.externaltools.internal.ant.launchConfigurations.RunAntStatusHandler"
			plugin ="org.eclipse.ui.externaltools"
			code="1000">
		</statusHandler>	
	</extension>
</plugin>