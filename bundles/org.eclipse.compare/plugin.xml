<?xml version="1.0" encoding="UTF-8"?>

<!-- ======================================================================= -->
<!-- Compare UI Plugin                                                       -->
<!-- ======================================================================= -->

<plugin
	name="%pluginName"
	id="org.eclipse.compare"
	version="2.1.0"
	provider-name="%providerName"
	class="org.eclipse.compare.internal.CompareUIPlugin">

	<requires>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.core.resources"/>
	</requires>

	<runtime>
		<library name="compare.jar" >
			<export name="*"/>
     		<packages prefixes="org.eclipse.compare"/>
		</library>
	</runtime>
		   
<!-- Compare extension point definitions -->

	<extension-point
		id="structureCreators"
		name="%structureCreators"
		schema="schema/structureCreators.exsd"
	/>
		
	<extension-point
		id="structureMergeViewers"
		name="%structureMergeViewers"
		schema="schema/structureMergeViewers.exsd"
	/>
		
	<extension-point
		id="contentMergeViewers"
		name="%contentMergeViewers"
		schema="schema/contentMergeViewers.exsd"
	/>
		
	<extension-point
		id="contentViewers"
		name="%contentViewers"
		schema="schema/contentViewers.exsd"
	/>

<!-- Extensions -->

	<extension point="org.eclipse.core.resources.markers"
		id="rejectedPatchMarker" name="%rejectedPatchMarker.name">
		<super type="org.eclipse.core.resources.taskmarker"/>
		<persistent value="true"/>
	</extension>

	<extension point="org.eclipse.ui.editors">
    	<editor id="org.eclipse.compare.CompareEditor"
      		name="%defaultCompareEditor.name"
 			icon="icons/full/cview16/compare_view.gif"     	  
      		class="org.eclipse.compare.internal.CompareEditor"
			contributorClass="org.eclipse.compare.internal.CompareEditorContributor">
    	</editor>
	</extension>

	<extension
		point="org.eclipse.ui.preferencePages">
		<page name="%ComparePreferencePage.name"
			id="org.eclipse.compare.internal.ComparePreferencePage"
			class="org.eclipse.compare.internal.ComparePreferencePage"
			category= "org.eclipse.ui.preferencePages.Workbench">
		</page>	
	</extension>

	<extension point="org.eclipse.ui.actionDefinitions">
		<actionDefinition
			id="org.eclipse.compare.compareWithEachOther"
			name= "%ActionDefinition.compareWithEachOther.name"
			description="%ActionDefinition.compareWithEachOther.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.compareWithPatch"
			name= "%ActionDefinition.compareWithPatch.name"
			description="%ActionDefinition.compareWithPatch.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.replaceFromHistory"
			name= "%ActionDefinition.replaceFromHistory.name"
			description="%ActionDefinition.replaceFromHistory.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.replaceWithPreviousFromHistory"
			name= "%ActionDefinition.replaceWithPreviousFromHistory.name"
			description="%ActionDefinition.replaceWithPreviousFromHistory.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.compareWithHistory"
			name= "%ActionDefinition.compareWithHistory.name"
			description="%ActionDefinition.compareWithHistory.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.addFromHistory"
			name= "%ActionDefinition.addFromHistory.name"
			description="%ActionDefinition.addFromHistory.description"
		/>
				
		<actionDefinition
			id="org.eclipse.compare.copyRightToLeft"
			name= "%ActionDefinition.copyRightToLeft.name"
			description="%ActionDefinition.copyRightToLeft.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.copyLeftToRight"
			name= "%ActionDefinition.copyLeftToRight.name"
			description="%ActionDefinition.copyLeftToRight.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.copyAllRightToLeft"
			name= "%ActionDefinition.copyAllRightToLeft.name"
			description="%ActionDefinition.copyAllRightToLeft.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.copyAllLeftToRight"
			name= "%ActionDefinition.copyAllLeftToRight.name"
			description="%ActionDefinition.copyAllLeftToRight.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.selectNextChange"
			name= "%ActionDefinition.selectNextChange.name"
			description="%ActionDefinition.selectNextChange.description"
		/>
		<actionDefinition
			id="org.eclipse.compare.selectPreviousChange"
			name= "%ActionDefinition.selectPreviousChange.name"
			description="%ActionDefinition.selectPreviousChange.description"
		/>
		
		selectNextChange
		
		
	</extension>


	<extension point="org.eclipse.ui.popupMenus">
	
		<objectContribution
			id="org.eclipse.compare.CompareAction"
			objectClass="org.eclipse.core.resources.IResource" adaptable="true">
			<menu
				id="replaceWithMenu"
				path="additions"
				label="%ReplaceWithMenu.label">
				<separator name="replaceWithGroup"/>
			</menu>
			<menu
				id="compareWithMenu"
				path="additions"
				label="%CompareWithMenu.label">
				<separator name="compareWithGroup"/>
			</menu>
			<menu
				id="team.main"
				path="additions"
				label="%TeamMenu.label">
				<separator name="group1"/>
			</menu>
			<action
				id="compareWithEachOther"
				definitionId="org.eclipse.compare.compareWithEachOther"
				label="%CompareWithEachOtherAction.label"
				tooltip="%CompareWithEachOtherAction.tooltip"
				menubarPath="compareWithMenu/compareWithGroup"
				enablesFor="2+"
				class="org.eclipse.compare.internal.CompareAction">
			</action>
			<action
				id="compareWithPatch"
				definitionId="org.eclipse.compare.compareWithPatch"
				label="%CompareWithPatchAction.label"
				tooltip="%CompareWithPatchAction.tooltip"
				menubarPath="team.main/group1"
				enablesFor="1"
				class="org.eclipse.compare.internal.patch.CompareWithPatchAction">
			</action>
						
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.compare.ReplaceWithEditionAction"
			objectClass="org.eclipse.core.resources.IFile" adaptable="true">
			<menu
				id="replaceWithMenu"
				path="additions"
				label="%ReplaceWithMenu.label">
				<separator name="replaceWithGroup"/>
			</menu>
			<action
				id="replaceFromHistory"
				definitionId="org.eclipse.compare.replaceFromHistory"
				label="%ReplaceFromHistoryAction.label"
				tooltip="%ReplaceFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu/replaceWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.ReplaceWithEditionAction">
			</action>
			<action
				id="replaceWithPreviousFromHistory"
				definitionId="org.eclipse.compare.replaceWithPreviousFromHistory"
				label="%ReplaceWithPreviousFromHistoryAction.label"
				tooltip="%ReplaceWithPreviousFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu/replaceWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.ReplaceWithPreviousEditionAction">
			</action>
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.compare.CompareWithEditionAction"
			objectClass="org.eclipse.core.resources.IFile" adaptable="true">
			<menu
				id="compareWithMenu"
				path="additions"
				label="%CompareWithMenu.label">
				<separator name="compareWithGroup"/>
			</menu>
			<action
				id="compareWithHistory"
				definitionId="org.eclipse.compare.compareWithHistory"
				label="%CompareWithHistoryAction.label"
				tooltip="%CompareWithHistoryAction.tooltip"
				menubarPath="compareWithMenu/compareWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.CompareWithEditionAction">
			</action>
		</objectContribution>
			
		<objectContribution
			id="org.eclipse.compare.AddFromHistoryAction"
			objectClass="org.eclipse.core.resources.IContainer" adaptable="true">
			<action
				id="addFromHistoryAction"
				definitionId="org.eclipse.compare.addFromHistory"
				label="%addFromHistoryAction.label"
				tooltip="%addFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu"
				enablesFor="1"
				class="org.eclipse.compare.internal.AddFromHistoryAction">
			</action>
		</objectContribution>

	</extension>

	<extension point="org.eclipse.compare.structureCreators">
		<structureCreator
			extensions="zip"
			class="org.eclipse.compare.ZipFileStructureCreator">
		</structureCreator>
	</extension>
	
	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer
			extensions="class,exe,dll,binary,zip,jar"
			class="org.eclipse.compare.internal.BinaryCompareViewerCreator">
		</viewer>
		<viewer
			extensions="txt"
			class="org.eclipse.compare.internal.TextMergeViewerCreator">
		</viewer>
		<viewer
			extensions="gif,jpg"
			class="org.eclipse.compare.internal.ImageMergeViewerCreator">
		</viewer>
	</extension>
	
	<extension point="org.eclipse.compare.contentViewers">
		<viewer
			extensions="txt"
			class="org.eclipse.compare.internal.TextViewerCreator">
		</viewer>
	</extension>

</plugin>

